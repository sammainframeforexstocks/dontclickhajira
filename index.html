<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hajira üíå</title>

  <style>
    :root{
      --bgA:#0b1020;
      --bgB:#1b0f2b;
      --card: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.18);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.7);
      --hot:#ff3d8d;
      --hot2:#ff7a59;
      --shadow: 0 18px 60px rgba(0,0,0,.35);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      display:grid;
      place-items:center;
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      overflow:hidden;
      background:
        radial-gradient(1200px 800px at 15% 10%, rgba(255,61,141,.18), transparent 55%),
        radial-gradient(1000px 700px at 85% 25%, rgba(255,122,89,.16), transparent 55%),
        radial-gradient(900px 700px at 55% 90%, rgba(140,120,255,.18), transparent 55%),
        linear-gradient(135deg, var(--bgA), var(--bgB));
    }

    .blob{
      position:fixed;
      width: 420px;
      height: 420px;
      border-radius: 50%;
      filter: blur(40px);
      opacity:.35;
      z-index:-1;
      animation: drift 10s ease-in-out infinite;
    }
    .blob.b1{ left:-120px; top:-120px; background: #ff3d8d; animation-delay: 0s;}
    .blob.b2{ right:-140px; top:40px; background: #8c78ff; animation-delay: 1.2s;}
    .blob.b3{ left:20%; bottom:-180px; background: #ff7a59; animation-delay: 2.1s;}
    @keyframes drift{
      0%,100%{ transform: translate(0,0) scale(1); }
      50%{ transform: translate(30px, -20px) scale(1.06); }
    }

    .wrap{ width:min(740px, 92vw); padding: 22px; }

    .card{
      position:relative;
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: 26px;
      box-shadow: var(--shadow);
      padding: 28px 22px 22px;
      backdrop-filter: blur(14px);
      overflow:hidden;
    }

    .topRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 14px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 8px 12px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      font-weight: 750;
      letter-spacing:.2px;
      font-size: 13px;
      color: var(--muted);
    }

    .pill{
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--hot), var(--hot2));
      box-shadow: 0 0 18px rgba(255,61,141,.55);
    }

    .title{
      margin: 4px 0 6px;
      font-size: clamp(22px, 4vw, 38px);
      letter-spacing: -0.03em;
      line-height: 1.1;
      font-weight: 900;
      text-transform: lowercase;
    }

    .subtitle{
      margin: 0 0 16px;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.45;
    }

    .name{
      background: linear-gradient(135deg, #fff, rgba(255,255,255,.65));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      text-shadow: 0 10px 30px rgba(255,255,255,.08);
    }

    .arena{
      position:relative;
      height: 88px;
      margin-top: 14px;
      display:flex;
      justify-content:center;
      align-items:flex-start;
      gap:12px;
    }

    button{
      border:0;
      border-radius: 999px;
      padding: 14px 22px;
      font-weight: 850;
      cursor:pointer;
      user-select:none;
      transition: transform .12s ease, filter .12s ease;
      will-change: transform;
    }

    #yesBtn{
      background: linear-gradient(135deg, var(--hot), var(--hot2));
      color:#fff;
      box-shadow: 0 16px 35px rgba(255,61,141,.22);
    }
    #yesBtn:hover{ filter: brightness(1.05); }
    #yesBtn:active{ transform: scale(.98); }

    #noBtn{
      position:absolute;
      left: 56%;
      top: 8px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.18);
      color: rgba(255,255,255,.85);
      box-shadow: 0 14px 30px rgba(0,0,0,.22);
    }

    .status{
      margin-top: 12px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      text-align:center;
      color: var(--muted);
      font-size: 13px;
      min-height: 22px;
    }
    .toast{
      display:inline-block;
      padding: 8px 12px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.16);
      border-radius: 999px;
    }

    .footer{
      margin-top: 18px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      color: rgba(255,255,255,.55);
      font-size: 12px;
    }
    .tinyLink{
      color: rgba(255,255,255,.72);
      text-decoration: none;
      border-bottom: 1px dashed rgba(255,255,255,.28);
    }

    /* Sequence screen */
    .sequence{
      display:none;
      margin-top: 18px;
      text-align:center;
      padding: 14px 10px 6px;
      animation: pop .28s ease-out;
    }
    @keyframes pop{
      from{ transform: translateY(6px); opacity: 0; }
      to{ transform: translateY(0); opacity: 1; }
    }

    .seqTitle{
      font-size: clamp(22px, 3.8vw, 36px);
      font-weight: 950;
      letter-spacing: -0.03em;
      margin: 6px 0 10px;
    }

    .seqLine{
      margin: 10px auto 0;
      max-width: 520px;
      padding: 16px 16px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.16);
      color: rgba(255,255,255,.90);
      font-size: 15px;
      line-height: 1.45;
      min-height: 62px;
      display:flex;
      align-items:center;
      justify-content:center;
      opacity: 0;
      transform: translateY(10px) scale(.98);
      will-change: transform, opacity;
    }

    /* POP animation for each YES line */
    .seqLine.pop{
      animation: linePop 520ms cubic-bezier(.2,1.1,.2,1) both;
    }
    @keyframes linePop{
      0%   { opacity: 0; transform: translateY(14px) scale(.92); filter: blur(1px); }
      55%  { opacity: 1; transform: translateY(0) scale(1.03); filter: blur(0); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }

    .seqMeta{
      margin-top: 10px;
      color: rgba(255,255,255,.60);
      font-size: 12px;
    }

    /* Final YAY screen */
    .yay{
      display:none;
      text-align:center;
      padding-top: 10px;
      animation: pop .28s ease-out;
    }
    .yay h2{
      margin: 8px 0 6px;
      font-size: clamp(28px, 4.5vw, 48px);
      letter-spacing:-0.03em;
      font-weight: 950;
    }
    .yay p{
      margin: 0 0 14px;
      color: var(--muted);
      font-size: 14px;
    }
    .pic{
      width: min(380px, 82vw);
      aspect-ratio: 1 / 1;
      margin: 0 auto;
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: 0 18px 55px rgba(0,0,0,.35);
      background: rgba(0,0,0,.2);
      display:grid;
      place-items:center;
    }
    .pic img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .again{
      margin-top: 14px;
      display:inline-flex;
      gap:10px;
      align-items:center;
      justify-content:center;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.14);
      color: rgba(255,255,255,.86);
      padding: 10px 14px;
      border-radius: 999px;
      cursor:pointer;
      font-weight: 800;
    }

    /* confetti */
    .confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      display:none;
    }
    .confetti i{
      position:absolute;
      top:-10vh;
      width:10px; height:14px;
      border-radius: 2px;
      opacity:.95;
      animation: fall 1.7s linear forwards;
    }
    @keyframes fall{
      to{ transform: translateY(120vh) rotate(360deg); }
    }
  </style>
</head>

<body>
  <div class="blob b1"></div>
  <div class="blob b2"></div>
  <div class="blob b3"></div>

  <div class="wrap">
    <div class="card" id="card">
      <div class="topRow">
        <div class="badge"><span class="pill"></span> private invite ‚Ä¢ don‚Äôt leak</div>
        <div class="badge" id="level">difficulty: impossible</div>
      </div>

      <!-- ASK SCREEN -->
      <div id="ask">
        <div class="title"><span class="name" id="name">Hajira</span>, will you go out on another date with me?</div>
        <div class="subtitle">
          I made this instead of a normal ‚Äúhey‚Äù or asking normally because I‚Äôm KINDA shy KINDA nerd - Totally cool thou.
          Try pressing ‚ÄúNo‚Äù I dare youuu.
        </div>

        <div class="arena" id="arena">
          <button id="yesBtn">Yes üòå</button>
          <button id="noBtn">No üôÑ</button>
        </div>

        <div class="status">
          <span class="toast" id="toast">‚ÄúNo‚Äù seems a bit shy.</span>
        </div>

        <div class="footer">
          <span>tip: the ‚ÄúNo‚Äù button is on a cardio plan</span>
          <a class="tinyLink" href="#" id="toggleMode">make it more unhinged</a>
        </div>
      </div>

      <!-- SEQUENCE SCREEN (lines appear one-by-one) -->
      <div class="sequence" id="sequence">
        <div class="seqTitle">uh oh‚Ä¶ we‚Äôre in business üò≠</div>
        <div class="seqLine" id="seqLine"></div>
        <div class="seqMeta" id="seqMeta">loading chaotic romance‚Ä¶</div>
      </div>

      <!-- FINAL YAY SCREEN -->
      <div class="yay" id="yay">
        <h2>YAY! üéâ</h2>
        <p>For the 19283rd time, we‚Äôre locked. No take-backs.</p>
        <div class="pic">
          <!-- Meme/GIF (change this anytime) -->
          <img
            id="meme"
            src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif"
            alt="meme"
          />
        </div>
        <div class="again" id="restart">Run it back üîÅ</div>
      </div>
    </div>
  </div>

  <div class="confetti" id="confetti"></div>

  <script>
    // ---- Customize ----
    const VALENTINE_NAME = "Hajira";
    document.getElementById("name").textContent = VALENTINE_NAME;

    // Funny excuses for the No button
    const noExcuses = [
      "Nice try üò≠",
      "‚ÄòNo‚Äô button said: not today.",
      "Oops, it slipped.",
      "You missed‚Ä¶ tragically.",
      "That‚Äôs crazy. Try again.",
      "I refuse your refusal.",
      "Plot twist: you meant ‚ÄòYes‚Äô.",
      "Cmon how are you still making bad decisions.",
      "You can‚Äôt reject greatness."
    ];

    // YES sequence lines (one-by-one)
    const yayLines = [
      "My Lawyer Momin says this is legally binding.",
      "W decision. We celebrate with snacks and good music.",
      "Knew you had great taste.",
      "Hopefully you like terrible jokes and nerdy things.",
      "Be honest‚Ä¶ you tried clicking ‚ÄòNo‚Äô first, didn‚Äôt you? üò≠"
    ];

    // ---- Elements ----
    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");
    const arena  = document.getElementById("arena");
    const toast  = document.getElementById("toast");
    const level  = document.getElementById("level");
    const toggleMode = document.getElementById("toggleMode");

    const ask = document.getElementById("ask");
    const sequence = document.getElementById("sequence");
    const seqLine = document.getElementById("seqLine");
    const seqMeta = document.getElementById("seqMeta");

    const yay = document.getElementById("yay");
    const confetti = document.getElementById("confetti");
    const restart = document.getElementById("restart");

    let dodges = 0;
    let unhinged = false;
    let runningSequence = false;

    function setDifficulty(){
      if (dodges < 2) level.textContent = "difficulty: impossible";
      else if (dodges < 5) level.textContent = "difficulty: embarrassing";
      else if (dodges < 9) level.textContent = "difficulty: please stop üíÄ";
      else level.textContent = "difficulty: you need help";
    }

    function randomInt(min, max){
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function moveNoButton(){
      if (runningSequence) return;

      const pad = 6;
      const maxX = arena.clientWidth - noBtn.offsetWidth - pad;
      const maxY = arena.clientHeight - noBtn.offsetHeight - pad;

      const x = randomInt(pad, Math.max(pad, maxX));
      const y = randomInt(pad, Math.max(pad, maxY));

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";

      dodges++;
      setDifficulty();
      toast.textContent = noExcuses[dodges % noExcuses.length];

      // Yes grows slightly each dodge
      const scale = Math.min(1 + dodges * 0.08, 2.2);
      yesBtn.style.transform = `scale(${scale})`;

      if (unhinged){
        document.getElementById("card").animate(
          [{transform:"translateX(0)"},{transform:"translateX(-4px)"},{transform:"translateX(4px)"},{transform:"translateX(0)"}],
          {duration: 180}
        );
      }
    }

    // dodge on desktop hover + mobile tap + click
    noBtn.addEventListener("mouseenter", moveNoButton);
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); moveNoButton(); }, {passive:false});
    noBtn.addEventListener("click", (e) => { e.preventDefault(); moveNoButton(); });

    function spawnConfetti(){
      confetti.innerHTML = "";
      confetti.style.display = "block";
      const pieces = 90;

      for (let i=0; i<pieces; i++){
        const p = document.createElement("i");
        const left = Math.random() * 100;
        const delay = Math.random() * 0.25;
        const size = 8 + Math.random() * 8;

        p.style.left = left + "vw";
        p.style.animationDelay = delay + "s";
        p.style.width = size + "px";
        p.style.height = (size * 1.3) + "px";
        p.style.background = (i % 3 === 0)
          ? "linear-gradient(135deg, #ff3d8d, #ff7a59)"
          : (i % 3 === 1)
            ? "linear-gradient(135deg, #8c78ff, #4dd6ff)"
            : "linear-gradient(135deg, #ffffff, rgba(255,255,255,.55))";

        confetti.appendChild(p);
      }
      setTimeout(() => { confetti.style.display = "none"; }, 1800);
    }

    function showLineAnimated(text){
      // reset and pop
      seqLine.classList.remove("pop");
      void seqLine.offsetWidth; // reflow to restart animation
      seqLine.textContent = "";

      // apply pop animation immediately
      seqLine.classList.add("pop");

      // slower typewriter
      const full = text;
      let i = 0;

      return new Promise((resolve) => {
        const typingSpeed = 34;     // higher = slower typing
        const endPause = 1200;      // pause between lines (good interval)
        const timer = setInterval(() => {
          seqLine.textContent = full.slice(0, i++);
          if (i > full.length){
            clearInterval(timer);
            setTimeout(resolve, endPause);
          }
        }, typingSpeed);
      });
    }

    async function runYesSequence(){
      runningSequence = true;

      // disable buttons immediately
      yesBtn.disabled = true;
      noBtn.disabled = true;

      // move to sequence screen
      ask.style.display = "none";
      sequence.style.display = "block";
      seqMeta.textContent = "processing your ‚Äòyes‚Äô‚Ä¶";

      // play lines one by one
      for (let idx = 0; idx < yayLines.length; idx++){
        seqMeta.textContent = `message ${idx+1} of ${yayLines.length}`;
        await showLineAnimated(yayLines[idx]);
      }

      // final transition
      seqMeta.textContent = "finalizing‚Ä¶";
      spawnConfetti();

      setTimeout(() => {
        sequence.style.display = "none";
        yay.style.display = "block";
      }, 1200);
    }

    yesBtn.addEventListener("click", () => {
      if (runningSequence) return;
      runYesSequence();
    });

    toggleMode.addEventListener("click", (e) => {
      e.preventDefault();
      unhinged = !unhinged;
      toast.textContent = unhinged
        ? "Unhinged mode: ON. Proceed with caution."
        : "Unhinged mode: OFF. We‚Äôre classy again.";
      toggleMode.textContent = unhinged ? "make it less unhinged" : "make it more unhinged";
    });

    restart.addEventListener("click", () => {
      // reset everything
      dodges = 0;
      runningSequence = false;

      yesBtn.disabled = false;
      noBtn.disabled = false;

      yesBtn.style.transform = "scale(1)";
      toast.textContent = "‚ÄúNo‚Äù seems a bit shy.";
      setDifficulty();

      yay.style.display = "none";
      sequence.style.display = "none";
      ask.style.display = "block";

      noBtn.style.left = "56%";
      noBtn.style.top  = "8px";
    });

    setDifficulty();
  </script>
</body>
</html>
